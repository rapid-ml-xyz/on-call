"""Natural language insights cell for feature and data drift.
Generates detailed natural language summaries for feature-level analyses across critical windows."""

from on_call.modules.feature_summary import get_features_nlp_setup
from IPython.display import Markdown

{% raw %}
---CELL---
{% endraw %}
"""Generate feature-level natural language insights"""

feature_summaries = []

for window in window_analyses:
    _context, _prompt = get_features_nlp_setup(window)
    feature_summary = get_summary(_context, _prompt)
    feature_summaries.append(feature_summary)
    display(Markdown(f"### Analysis for window {window.window_id}\n"))
    display(Markdown(f"{feature_summary}"))
